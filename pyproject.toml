[build-system]
build-backend = "poetry.core.masonry.api"
requires = ["poetry-core>=1.0.8"]

[tool.black]
line-length = 120

[tool.nitpick]
ignore_styles = [
  "py://nitpick/resources/any/commitlint",
  "py://nitpick/resources/any/git-legal",
  "py://nitpick/resources/python/310",
  "py://nitpick/resources/python/312",
  "py://nitpick/resources/python/38",
  "py://nitpick/resources/python/39",
  "py://nitpick/resources/python/autoflake",
  "py://nitpick/resources/python/bandit",
  "py://nitpick/resources/python/black",
  "py://nitpick/resources/python/flake8",
  "py://nitpick/resources/python/github-workflow",
  "py://nitpick/resources/python/mypy",
  "py://nitpick/resources/python/pylint",
  "py://nitpick/resources/python/radon",
  "py://nitpick/resources/python/readthedocs",
  "py://nitpick/resources/python/sonar-python",
  "py://nitpick/resources/python/stable",
  "py://nitpick/resources/python/tox",
]
# nitpick-start (auto-generated by "nitpick init --suggest" 0.37.0)
# Styles added to the Nitpick Style Library will be appended to the end of the 'style' key.
# If you don't want a style, move it to the 'ignore_styles' key.
# nitpick-end
style = [
  "py://nitpick/resources/any/codeclimate",
  "py://nitpick/resources/any/commitizen",
  "py://nitpick/resources/any/editorconfig",
  "py://nitpick/resources/any/pre-commit-hooks",
  "py://nitpick/resources/any/prettier",
  "py://nitpick/resources/markdown/markdownlint",
  "py://nitpick/resources/python/311",
  "py://nitpick/resources/python/313",
  "py://nitpick/resources/python/314",
  "py://nitpick/resources/python/absent",
  "py://nitpick/resources/python/ipython",
  "py://nitpick/resources/python/isort",
  "py://nitpick/resources/python/poetry",
  "py://nitpick/resources/python/poetry-editable",
  "py://nitpick/resources/python/poetry-venv",
  "py://nitpick/resources/python/pre-commit-hooks",
  "py://nitpick/resources/shell/bashate",
  "py://nitpick/resources/shell/shellcheck",
  "py://nitpick/resources/shell/shfmt",
  "py://nitpick/resources/toml/toml-sort",
]

[tool.poetry]
authors = ["W. Augusto Andreoli <andreoliwa@gmail.com>"]
description = "Don't forget to do your chores (using Gmail, Toggl and more tools to come)"
name = "dontforget"
version = "0.1.0"

[tool.poetry.dependencies]
appdirs = "*"
apscheduler = "*"
arrow = "*" # TODO: replace by pendulum
autorepr = "*"
# clib = { path = "../python-clib", develop = true }
clib = {branch = "develop", git = "https://github.com/andreoliwa/python-clib.git"}
click = "*"
deprecated = "*"
environs = "*"
google-api-python-client = "*"
google-auth-httplib2 = "*"
google-auth-oauthlib = "*"
imbox = "*"
jinja2 = "*"
jmespath = "*"
joblib = "*"
marshmallow = "*"
# TODO: waiting for a new release since 2019: https://github.com/kennethreitz/maya/releases
# Today is Monday, June 3rd 2024. maya.when("Friday") returned "2024-12-31" instead of "2024-05-31"
# The master branch still doesn't fix this issue but it has some other bug fixes.
maya = {branch = "master", git = "https://github.com/kennethreitz/maya"}
memoized-property = "*"
pendulum = "*"
pluginbase = "*"
python = "^3.14"
python-redmine = "*"
"ruamel.yaml" = "*"
rumps = "*"
todoist-python = "*"
# TODO: waiting for a new release: https://github.com/AuHau/toggl-cli/releases
# Thie branch didn't work when I tried to start an entry with "dontforget track xxx": https://github.com/AuHau/toggl-cli/tree/feat/new-api-version
togglCli = {branch = "feat/api-v9", git = "https://github.com/andreabak/toggl-cli"}
toml = "*"

[tool.poetry.dev-dependencies]
coverage = "*"
factory-boy = "*"
faker = "*"
ipdb = "*"
ipython = "*"
# TODO: build: "poetry update" fails with OverrideNeeded
# ({Package('pylint', '3.2.0'): {'dill': <Dependency dill (>=0.3.7)>}}, {Package('pylint', '3.2.0'): {'dill': <Dependency dill (>=0.3.6)>}})
# I ran with "poetry update togglCli" to update only the package I needed
pylint = "*"
pytest = "*"
pytest-cov = "*"
pytest-runfailed = "*"

[tool.poetry.extras]
lint = ["pylint"]

[tool.poetry.scripts]
dontforget = "dontforget.cli:main"

[tool.tomlsort]
all = true
ignore_case = true
in_place = true
trailing_comma_inline_array = true
